import{f as C,j as ee,k as ae,l as z,n as se,p as h,s as v,o as p,w as f,v as m,i as t,P as k,d as y,D as w,E as te,G as oe,t as U,I as ne,V as le,W as ie,a0 as re,L as ue,O as Z,b,M,c as S,N as B,r as K,F as q,Q as de,X as _,m as pe,g as ce,u as fe,a as E,S as ge,e as ve,Z as me,h as be}from"./C7HLD6N3.js";import{_ as he}from"./CLjsSxuM.js";import{u as Pe,q as ye}from"./3MsClgHH.js";const[N,Ce]=ee("PaginationRoot"),$e=C({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(i,{emit:o}){const e=i,n=o,{siblingCount:l,disabled:a,showEdges:u}=ae(e);z();const r=se(e,"page",n,{defaultValue:e.defaultPage,passive:e.page===void 0}),P=h(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return Ce({page:r,onPageChange(g){r.value=g},pageCount:P,siblingCount:l,disabled:a,showEdges:u}),(g,$)=>(p(),v(t(k),{as:g.as,"as-child":g.asChild},{default:f(()=>[m(g.$slots,"default",{page:t(r),pageCount:P.value})]),_:3},8,["as","as-child"]))}}),Ie=C({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(i){const o=i;return z(),(e,n)=>(p(),v(t(k),w(o,{"data-type":"ellipsis"}),{default:f(()=>[m(e.$slots,"default",{},()=>[n[0]||(n[0]=y("â€¦"))])]),_:3},16))}}),we=C({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i,e=N();z();const n=h(()=>e.page.value===1||e.disabled.value);return(l,a)=>(p(),v(t(k),w(o,{"aria-label":"First Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:a[0]||(a[0]=u=>!n.value&&t(e).onPageChange(1))}),{default:f(()=>[m(l.$slots,"default",{},()=>[a[1]||(a[1]=y("First page"))])]),_:3},16,["type","disabled"]))}}),ze=C({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i,e=N();z();const n=h(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,a)=>(p(),v(t(k),w(o,{"aria-label":"Last Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:a[0]||(a[0]=u=>!n.value&&t(e).onPageChange(t(e).pageCount.value))}),{default:f(()=>[m(l.$slots,"default",{},()=>[a[1]||(a[1]=y("Last page"))])]),_:3},16,["type","disabled"]))}});function I(i,o){const e=o-i+1;return Array.from({length:e},(n,l)=>l+i)}function ke(i){return i.map(o=>typeof o=="number"?{type:"page",value:o}:{type:"ellipsis"})}const V="ellipsis";function Re(i,o,e,n){const a=o,u=Math.max(i-e,1),r=Math.min(i+e,a);if(n){const g=Math.min(2*e+5,o)-2,$=u>3&&Math.abs(a-g-1+1)>2&&Math.abs(u-1)>2,R=r<a-2&&Math.abs(a-g)>2&&Math.abs(a-r)>2;if(!$&&R)return[...I(1,g),V,a];if($&&!R){const s=I(a-g+1,a);return[1,V,...s]}if($&&R){const s=I(u,r);return[1,V,...s,V,a]}return I(1,a)}else{const P=e*2+1;return o<P?I(1,a):i<=e+1?I(1,P):o-i<=e?I(o-P+1,a):I(u,r)}}const Le=C({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(i){const o=i;z();const e=N(),n=h(()=>ke(Re(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(l,a)=>(p(),v(t(k),te(oe(o)),{default:f(()=>[m(l.$slots,"default",{items:n.value})]),_:3},16))}}),Be=C({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i;z();const e=N(),n=h(()=>e.page.value===o.value),l=h(()=>e.disabled.value);return(a,u)=>(p(),v(t(k),w(o,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":n.value?"page":void 0,"data-selected":n.value?"true":void 0,disabled:l.value,type:a.as==="button"?"button":void 0,onClick:u[0]||(u[0]=r=>!l.value&&t(e).onPageChange(a.value))}),{default:f(()=>[m(a.$slots,"default",{},()=>[y(U(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ee=C({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i;z();const e=N(),n=h(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,a)=>(p(),v(t(k),w(o,{"aria-label":"Next Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:a[0]||(a[0]=u=>!n.value&&t(e).onPageChange(t(e).page.value+1))}),{default:f(()=>[m(l.$slots,"default",{},()=>[a[1]||(a[1]=y("Next page"))])]),_:3},16,["type","disabled"]))}}),_e=C({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i;z();const e=N(),n=h(()=>e.page.value===1||e.disabled.value);return(l,a)=>(p(),v(t(k),w(o,{"aria-label":"Previous Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:a[0]||(a[0]=u=>!n.value&&t(e).onPageChange(t(e).page.value-1))}),{default:f(()=>[m(l.$slots,"default",{},()=>[a[1]||(a[1]=y("Prev page"))])]),_:3},16,["type","disabled"]))}}),Ne={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Se=de;var J;const Me=Z({extend:Z(Ne),...((J=Se.ui)==null?void 0:J.pagination)||{}}),Ve=C({__name:"Pagination",props:{as:{},firstIcon:{},prevIcon:{},nextIcon:{},lastIcon:{},ellipsisIcon:{},color:{default:"neutral"},variant:{default:"outline"},activeColor:{default:"primary"},activeVariant:{default:"solid"},showControls:{type:Boolean,default:!0},size:{default:"md"},to:{},class:{},ui:{},defaultPage:{},disabled:{type:Boolean},itemsPerPage:{default:10},page:{},showEdges:{type:Boolean,default:!1},siblingCount:{default:2},total:{default:0}},emits:["update:page"],setup(i,{emit:o}){const e=i,n=o,l=ne(),a=le(),{dir:u}=ie(),r=re(ue(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),n),P=h(()=>e.firstIcon||(u.value==="rtl"?a.ui.icons.chevronDoubleRight:a.ui.icons.chevronDoubleLeft)),g=h(()=>e.prevIcon||(u.value==="rtl"?a.ui.icons.chevronRight:a.ui.icons.chevronLeft)),$=h(()=>e.nextIcon||(u.value==="rtl"?a.ui.icons.chevronLeft:a.ui.icons.chevronRight)),R=h(()=>e.lastIcon||(u.value==="rtl"?a.ui.icons.chevronDoubleLeft:a.ui.icons.chevronDoubleRight)),c=Me();return(s,Te)=>{var T;return p(),v(t($e),w(t(r),{class:t(c).root({class:[e.class,(T=e.ui)==null?void 0:T.root]})}),{default:f(({page:L,pageCount:D})=>{var j;return[b(t(Le),{class:B(t(c).list({class:(j=e.ui)==null?void 0:j.list}))},{default:f(({items:x})=>{var O,Y,G,H;return[s.showControls||l.first?(p(),v(t(we),{key:0,"as-child":"",class:B(t(c).first({class:(O=e.ui)==null?void 0:O.first}))},{default:f(()=>[m(s.$slots,"first",{},()=>{var d;return[b(_,{color:s.color,variant:s.variant,size:s.size,icon:P.value,to:(d=s.to)==null?void 0:d.call(s,1)},null,8,["color","variant","size","icon","to"])]})]),_:3},8,["class"])):M("",!0),s.showControls||l.prev?(p(),v(t(_e),{key:1,"as-child":"",class:B(t(c).prev({class:(Y=e.ui)==null?void 0:Y.prev}))},{default:f(()=>[m(s.$slots,"prev",{},()=>{var d;return[b(_,{color:s.color,variant:s.variant,size:s.size,icon:g.value,to:L>1?(d=s.to)==null?void 0:d.call(s,L-1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):M("",!0),(p(!0),S(q,null,K(x,(d,F)=>{var Q,W;return p(),S(q,null,[d.type==="page"?(p(),v(t(Be),{key:F,"as-child":"",value:d.value,class:B(t(c).item({class:(Q=e.ui)==null?void 0:Q.item}))},{default:f(()=>[m(s.$slots,"item",w({ref_for:!0},{item:d,index:F,page:L,pageCount:D}),()=>{var X;return[b(_,{color:L===d.value?s.activeColor:s.color,variant:L===d.value?s.activeVariant:s.variant,size:s.size,label:String(d.value),ui:{label:t(c).label()},to:(X=s.to)==null?void 0:X.call(s,d.value),square:""},null,8,["color","variant","size","label","ui","to"])]})]),_:2},1032,["value","class"])):(p(),v(t(Ie),{key:d.type,index:F,"as-child":"",class:B(t(c).ellipsis({class:(W=e.ui)==null?void 0:W.ellipsis}))},{default:f(()=>[m(s.$slots,"ellipsis",{},()=>[b(_,{color:s.color,variant:s.variant,size:s.size,icon:s.ellipsisIcon||t(a).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:2},1032,["index","class"]))],64)}),256)),s.showControls||l.next?(p(),v(t(Ee),{key:2,"as-child":"",class:B(t(c).next({class:(G=e.ui)==null?void 0:G.next}))},{default:f(()=>[m(s.$slots,"next",{},()=>{var d;return[b(_,{color:s.color,variant:s.variant,size:s.size,icon:$.value,to:L<D?(d=s.to)==null?void 0:d.call(s,L+1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):M("",!0),s.showControls||l.last?(p(),v(t(ze),{key:3,"as-child":"",class:B(t(c).last({class:(H=e.ui)==null?void 0:H.last}))},{default:f(()=>[m(s.$slots,"last",{},()=>{var d;return[b(_,{color:s.color,variant:s.variant,size:s.size,icon:R.value,to:(d=s.to)==null?void 0:d.call(s,D)},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):M("",!0)]}),_:2},1032,["class"])]}),_:3},16,["class"])}}}),De={class:""},Fe={class:"flex flex-col pt-10"},Ae={class:"md:grid grid-cols-4 pb-10 items-center"},Ue={class:"col-span-3 flex flex-col gap-y-1"},qe={class:"hidden md:block col-span-1"},A=4,Ge=C({__name:"index",async setup(i){let o,e;const n=pe(1),{data:l}=([o,e]=ce(()=>Pe("updates",()=>ye("updates").order("date","DESC").all())),o=await o,e(),o),a=h(()=>{if(!l.value)return[];const u=(n.value-1)*A,r=u+A;return l.value.slice(u,r)});return fe({title:"OSPO Now Updates"}),(u,r)=>{const P=me,g=ve,$=Ve,R=be;return p(),S("div",null,[r[5]||(r[5]=E("h1",{class:"pb-5"},"Updates",-1)),E("p",De,[r[2]||(r[2]=y(" Check out our most recent blogs below. All articles in these pages are completely free for anyone to read, adapt, and redistribute in any way that you like. You will see these symbols: ")),b(P,{name:"cib:creative-commons",class:"align-middle me-0.5"}),b(P,{name:"cib:creative-commons-by",class:"align-middle"}),r[3]||(r[3]=y(" on the page of each article, which indicate they are licenced under a ")),b(g,{to:"https://creativecommons.org/licenses/by/4.0/"},{default:f(()=>r[1]||(r[1]=[y("CC BY 4.0")])),_:1}),r[4]||(r[4]=y(" licence. "))]),E("div",Fe,[b($,{page:t(n),"onUpdate:page":r[0]||(r[0]=c=>ge(n)?n.value=c:null),"items-per-page":A,total:t(l).length,"show-edges":"","sibling-count":1,class:"pb-10 self-center flex"},null,8,["page","total"]),(p(!0),S(q,null,K(t(a),c=>(p(),S("div",{key:c._id},[E("div",Ae,[E("div",Ue,[E("p",null,U(("dateToLong"in u?u.dateToLong:t(he))(c.date)),1),b(g,{to:c.path,class:"h3 underline"},{default:f(()=>[y(U(c.name),1)]),_:2},1032,["to"])]),E("div",qe,[b(R,{src:`/images/updates/${c.image}`,alt:c.imageAlt,class:"aspect-square object-contain",width:"300",loading:"lazy"},null,8,["src","alt"])])])]))),128))])])}}});export{Ge as default};
