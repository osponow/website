import{f as C,j as ee,k as ae,l as k,n as se,p as b,s as g,o as p,w as c,v as m,i as t,P as R,d as y,D as z,E as te,G as oe,t as D,I as ne,V as le,W as ie,a0 as re,L as ue,O as Z,b as v,M,c as S,N as L,r as K,F as q,Q as de,X as E,m as pe,g as ce,u as fe,a as I,S as ge,e as ve,Z as me,h as be}from"./D8SNSaBy.js";import{_ as he}from"./B8TPRlB9.js";import{_ as Pe}from"./CLjsSxuM.js";import{u as ye,q as Ce}from"./CeXVoIbv.js";const[N,$e]=ee("PaginationRoot"),Ie=C({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(i,{emit:o}){const e=i,n=o,{siblingCount:l,disabled:s,showEdges:u}=ae(e);k();const r=se(e,"page",n,{defaultValue:e.defaultPage,passive:e.page===void 0}),h=b(()=>Math.max(1,Math.ceil(e.total/(e.itemsPerPage||1))));return $e({page:r,onPageChange(f){r.value=f},pageCount:h,siblingCount:l,disabled:s,showEdges:u}),(f,$)=>(p(),g(t(R),{as:f.as,"as-child":f.asChild},{default:c(()=>[m(f.$slots,"default",{page:t(r),pageCount:h.value})]),_:3},8,["as","as-child"]))}}),we=C({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(i){const o=i;return k(),(e,n)=>(p(),g(t(R),z(o,{"data-type":"ellipsis"}),{default:c(()=>[m(e.$slots,"default",{},()=>[n[0]||(n[0]=y("â€¦"))])]),_:3},16))}}),ze=C({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i,e=N();k();const n=b(()=>e.page.value===1||e.disabled.value);return(l,s)=>(p(),g(t(R),z(o,{"aria-label":"First Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:s[0]||(s[0]=u=>!n.value&&t(e).onPageChange(1))}),{default:c(()=>[m(l.$slots,"default",{},()=>[s[1]||(s[1]=y("First page"))])]),_:3},16,["type","disabled"]))}}),ke=C({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i,e=N();k();const n=b(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,s)=>(p(),g(t(R),z(o,{"aria-label":"Last Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:s[0]||(s[0]=u=>!n.value&&t(e).onPageChange(t(e).pageCount.value))}),{default:c(()=>[m(l.$slots,"default",{},()=>[s[1]||(s[1]=y("Last page"))])]),_:3},16,["type","disabled"]))}});function w(i,o){const e=o-i+1;return Array.from({length:e},(n,l)=>l+i)}function Re(i){return i.map(o=>typeof o=="number"?{type:"page",value:o}:{type:"ellipsis"})}const V="ellipsis";function _e(i,o,e,n){const s=o,u=Math.max(i-e,1),r=Math.min(i+e,s);if(n){const f=Math.min(2*e+5,o)-2,$=u>3&&Math.abs(s-f-1+1)>2&&Math.abs(u-1)>2,_=r<s-2&&Math.abs(s-f)>2&&Math.abs(s-r)>2;if(!$&&_)return[...w(1,f),V,s];if($&&!_){const a=w(s-f+1,s);return[1,V,...a]}if($&&_){const a=w(u,r);return[1,V,...a,V,s]}return w(1,s)}else{const h=e*2+1;return o<h?w(1,s):i<=e+1?w(1,h):o-i<=e?w(o-h+1,s):w(u,r)}}const Be=C({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(i){const o=i;k();const e=N(),n=b(()=>Re(_e(e.page.value,e.pageCount.value,e.siblingCount.value,e.showEdges.value)));return(l,s)=>(p(),g(t(R),te(oe(o)),{default:c(()=>[m(l.$slots,"default",{items:n.value})]),_:3},16))}}),Le=C({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i;k();const e=N(),n=b(()=>e.page.value===o.value),l=b(()=>e.disabled.value);return(s,u)=>(p(),g(t(R),z(o,{"data-type":"page","aria-label":`Page ${s.value}`,"aria-current":n.value?"page":void 0,"data-selected":n.value?"true":void 0,disabled:l.value,type:s.as==="button"?"button":void 0,onClick:u[0]||(u[0]=r=>!l.value&&t(e).onPageChange(s.value))}),{default:c(()=>[m(s.$slots,"default",{},()=>[y(D(s.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ee=C({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i;k();const e=N(),n=b(()=>e.page.value===e.pageCount.value||e.disabled.value);return(l,s)=>(p(),g(t(R),z(o,{"aria-label":"Next Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:s[0]||(s[0]=u=>!n.value&&t(e).onPageChange(t(e).page.value+1))}),{default:c(()=>[m(l.$slots,"default",{},()=>[s[1]||(s[1]=y("Next page"))])]),_:3},16,["type","disabled"]))}}),Ne=C({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const o=i;k();const e=N(),n=b(()=>e.page.value===1||e.disabled.value);return(l,s)=>(p(),g(t(R),z(o,{"aria-label":"Previous Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:s[0]||(s[0]=u=>!n.value&&t(e).onPageChange(t(e).page.value-1))}),{default:c(()=>[m(l.$slots,"default",{},()=>[s[1]||(s[1]=y("Prev page"))])]),_:3},16,["type","disabled"]))}}),Se={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Me=de;var J;const Ve=Z({extend:Z(Se),...((J=Me.ui)==null?void 0:J.pagination)||{}}),De=C({__name:"Pagination",props:{as:{},firstIcon:{},prevIcon:{},nextIcon:{},lastIcon:{},ellipsisIcon:{},color:{default:"neutral"},variant:{default:"outline"},activeColor:{default:"primary"},activeVariant:{default:"solid"},showControls:{type:Boolean,default:!0},size:{default:"md"},to:{},class:{},ui:{},defaultPage:{},disabled:{type:Boolean},itemsPerPage:{default:10},page:{},showEdges:{type:Boolean,default:!1},siblingCount:{default:2},total:{default:0}},emits:["update:page"],setup(i,{emit:o}){const e=i,n=o,l=ne(),s=le(),{dir:u}=ie(),r=re(ue(e,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),n),h=b(()=>e.firstIcon||(u.value==="rtl"?s.ui.icons.chevronDoubleRight:s.ui.icons.chevronDoubleLeft)),f=b(()=>e.prevIcon||(u.value==="rtl"?s.ui.icons.chevronRight:s.ui.icons.chevronLeft)),$=b(()=>e.nextIcon||(u.value==="rtl"?s.ui.icons.chevronLeft:s.ui.icons.chevronRight)),_=b(()=>e.lastIcon||(u.value==="rtl"?s.ui.icons.chevronDoubleLeft:s.ui.icons.chevronDoubleRight)),P=Ve();return(a,je)=>{var T;return p(),g(t(Ie),z(t(r),{class:t(P).root({class:[e.class,(T=e.ui)==null?void 0:T.root]})}),{default:c(({page:B,pageCount:F})=>{var j;return[v(t(Be),{class:L(t(P).list({class:(j=e.ui)==null?void 0:j.list}))},{default:c(({items:x})=>{var O,Y,G,H;return[a.showControls||l.first?(p(),g(t(ze),{key:0,"as-child":"",class:L(t(P).first({class:(O=e.ui)==null?void 0:O.first}))},{default:c(()=>[m(a.$slots,"first",{},()=>{var d;return[v(E,{color:a.color,variant:a.variant,size:a.size,icon:h.value,to:(d=a.to)==null?void 0:d.call(a,1)},null,8,["color","variant","size","icon","to"])]})]),_:3},8,["class"])):M("",!0),a.showControls||l.prev?(p(),g(t(Ne),{key:1,"as-child":"",class:L(t(P).prev({class:(Y=e.ui)==null?void 0:Y.prev}))},{default:c(()=>[m(a.$slots,"prev",{},()=>{var d;return[v(E,{color:a.color,variant:a.variant,size:a.size,icon:f.value,to:B>1?(d=a.to)==null?void 0:d.call(a,B-1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):M("",!0),(p(!0),S(q,null,K(x,(d,A)=>{var Q,W;return p(),S(q,null,[d.type==="page"?(p(),g(t(Le),{key:A,"as-child":"",value:d.value,class:L(t(P).item({class:(Q=e.ui)==null?void 0:Q.item}))},{default:c(()=>[m(a.$slots,"item",z({ref_for:!0},{item:d,index:A,page:B,pageCount:F}),()=>{var X;return[v(E,{color:B===d.value?a.activeColor:a.color,variant:B===d.value?a.activeVariant:a.variant,size:a.size,label:String(d.value),ui:{label:t(P).label()},to:(X=a.to)==null?void 0:X.call(a,d.value),square:""},null,8,["color","variant","size","label","ui","to"])]})]),_:2},1032,["value","class"])):(p(),g(t(we),{key:d.type,index:A,"as-child":"",class:L(t(P).ellipsis({class:(W=e.ui)==null?void 0:W.ellipsis}))},{default:c(()=>[m(a.$slots,"ellipsis",{},()=>[v(E,{color:a.color,variant:a.variant,size:a.size,icon:a.ellipsisIcon||t(s).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:2},1032,["index","class"]))],64)}),256)),a.showControls||l.next?(p(),g(t(Ee),{key:2,"as-child":"",class:L(t(P).next({class:(G=e.ui)==null?void 0:G.next}))},{default:c(()=>[m(a.$slots,"next",{},()=>{var d;return[v(E,{color:a.color,variant:a.variant,size:a.size,icon:$.value,to:B<F?(d=a.to)==null?void 0:d.call(a,B+1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):M("",!0),a.showControls||l.last?(p(),g(t(ke),{key:3,"as-child":"",class:L(t(P).last({class:(H=e.ui)==null?void 0:H.last}))},{default:c(()=>[m(a.$slots,"last",{},()=>{var d;return[v(E,{color:a.color,variant:a.variant,size:a.size,icon:_.value,to:(d=a.to)==null?void 0:d.call(a,F)},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):M("",!0)]}),_:2},1032,["class"])]}),_:3},16,["class"])}}}),Fe={class:""},Ae={class:"flex flex-col pt-10"},Ue={class:"md:grid grid-cols-4 pb-10 items-center"},qe={class:"col-span-3 flex flex-col gap-y-1"},Te={class:"hidden md:block col-span-1"},U=4,Qe=C({__name:"index",async setup(i){let o,e;const n=pe(1),{data:l}=([o,e]=ce(()=>ye("updates",()=>Ce("updates").order("date","DESC").all())),o=await o,e(),o),s=b(()=>{if(!l.value)return[];const u=(n.value-1)*U,r=u+U;return l.value.slice(u,r)});return fe({title:"OSPO Now Updates"}),(u,r)=>{const h=me,f=ve,$=De,_=he,P=be;return p(),S("div",null,[r[5]||(r[5]=I("h1",{class:"pb-5"},"Updates",-1)),I("p",Fe,[r[2]||(r[2]=y(" Check out our most recent blogs below. All articles in these pages are completely free for anyone to read, adapt, and redistribute in any way that you like. You will see these symbols: ")),v(h,{name:"cib:creative-commons",class:"align-middle me-0.5"}),v(h,{name:"cib:creative-commons-by",class:"align-middle"}),r[3]||(r[3]=y(" on the page of each article, which indicate they are licenced under a ")),v(f,{to:"https://creativecommons.org/licenses/by/4.0/"},{default:c(()=>r[1]||(r[1]=[y("CC BY 4.0")])),_:1}),r[4]||(r[4]=y(" licence. "))]),I("div",Ae,[v($,{page:t(n),"onUpdate:page":r[0]||(r[0]=a=>ge(n)?n.value=a:null),"items-per-page":U,total:t(l).length,"show-edges":"","sibling-count":1,class:"pb-10 self-center flex"},null,8,["page","total"]),(p(!0),S(q,null,K(t(s),a=>(p(),S("div",{key:a._id},[I("div",Ue,[I("div",qe,[I("p",null,D(("dateToLong"in u?u.dateToLong:t(Pe))(a.date)),1),v(f,{to:a.path,class:"h3 underline"},{default:c(()=>[y(D(a.name),1)]),_:2},1032,["to"]),I("div",null,[v(_,null,{default:c(()=>[y(D(a.type),1)]),_:2},1024)])]),I("div",Te,[v(P,{src:`/images/updates/${a.image}`,alt:a.imageAlt,class:"aspect-square object-contain",width:"300",loading:"lazy"},null,8,["src","alt"])])])]))),128))])])}}});export{Qe as default};
